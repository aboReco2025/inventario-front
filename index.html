<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Inventario Recovery</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src='index.js' defer></script>
</head>

<body>
    <header>
        <div class="left">
            <div class="menu-container">
                <div class="menu" id="menu">
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
            <div class="brand">
                <img src="img/img_rem.png" alt="logo Recovery" class="logo">
                <span class="name">Arcsas</span>
            </div>
        </div>
        <div>
            <span class="name1">INVENTARIO</span>
        </div>
        <nav>
            <!--<a href="">
                <img src="img/img_reco.png" alt="logo Arcsas" class="nav-img">
            </a>-->
            <a id="exportar" class="btn btn-success" style="float: right" position="right">Exportar</a>
        </nav>
    </header>

    <div class="sidebar" id="sidebar">
        <nav>
            <ul>
                <a href="#" class="selected">
                    <img src="icons/library.svg" alt="library">
                    <span>Inventario</span>
                </a>
                <a href="crear_Formulario.html">
                    <img src="icons/file.svg" alt="add_implement">
                    <span>Añadir Implemento</span>
                </a>
                <a href="#">
                    <img src="icons/profile.svg" alt="profile">
                    <span>Usuarios</span>
                </a>
            </ul>
        </nav>
    </div>

    <main id="main">
        <section>
            <div class="row g-2 align-items-center mb-3 justify-content-end">
                <div class="col-auto">
                    <label for="columnaFiltro" class="form-label fw-bold">Filtrar por:</label>
                    <select id="columnaFiltro" class="form-select">
                        <option value="1">Nombre</option>
                        <option value="2">Categoría</option>
                        <option value="3">Departamento</option>
                        <option value="4">Condición</option>
                        <option value="5">Pertenencia</option>
                        <option value="6">Propietario</option>
                        <option value="10">Sede</option>
                        <option value="12">Estado</option>
                    </select>
                </div>

                <div class="col-auto">
                    <label for="valorFiltro" class="form-label fw-bold">Valor:</label>
                    <input type="text" id="valorFiltro" class="form-control" placeholder="Ingrese valor">
                </div>

                <div class="col-auto">
                    <label class="form-label fw-bold d-block">&nbsp;</label>
                    <button class="btn btn-primary" onclick="aplicarFiltro()">Aplicar</button>
                    <button class="btn btn-danger" onclick="limpiarFiltro()">Limpiar Filtro</button>
                </div>
            </div>
        </section>
        <section>
            <table class="table table-striped-columns" id="tabla">
                <thead>
                    <tr>
                        <th>Id Implemento</th>
                        <th>Nombre</th>
                        <th>Categoría</th>
                        <th>Departamento</th>
                        <th>Condición</th>
                        <th>Pertenencia</th>
                        <th>Propietario</th>
                        <th>Cantidad</th>
                        <th>Valor</th>
                        <th>Fecha</th>
                        <th>Sede</th>
                        <th>Descripción</th>
                        <th>Estado</th>
                        <th>Opciones</th>
                    </tr>
                </thead>
                <tbody id="tabla-body">
                </tbody>
            </table>
            <div class="d-flex justify-content-between mb-2">
                <div>
                    <span id="totalRegistros" class="fw-bold"></span>
                </div>
            </div>
        </section>
    </main>

    <footer>
        Versión 1.0
    </footer>
</body>
<script>
    document.getElementById("btnFiltrar").addEventListener("click", aplicarFiltro);

    // Acción al presionar Enter en el input
    document.getElementById("valorFiltro").addEventListener("keypress", function (e) {
        if (e.key === "Enter") {
            aplicarFiltro();
        }
    });

    function aplicarFiltro() {
        const columna = document.getElementById("columnaFiltro").value;
        const valor = document.getElementById("valorFiltro").value.toLowerCase().trim();
        const tabla = document.getElementById("tabla");
        const filas = tabla.getElementsByTagName("tr");

        for (let i = 1; i < filas.length; i++) {
            const celdas = filas[i].getElementsByTagName("td");
            if (celdas[columna]) {
                const texto = celdas[columna].innerText.toLowerCase().trim();

                let mostrar = false;

                // Si la columna es Estado (12) → coincidencia exacta
                if (columna == 12) {
                    mostrar = (texto === valor);
                } else {
                    // Para las demás columnas → coincidencia parcial
                    mostrar = texto.includes(valor);
                }

                filas[i].style.display = mostrar ? "" : "none";
            }
        }
    }

    function limpiarFiltro() {
        document.getElementById("valorFiltro").value = "";
        const tabla = document.getElementById("tabla");
        const filas = tabla.getElementsByTagName("tr");

        for (let i = 1; i < filas.length; i++) {
            filas[i].style.display = ""; // muestra todas otra vez
        }
    }
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap');

    * {
        font-family: "Nunito Sans", sans-serif;
        font-size: 1;
    }

    body {
        background-color: #F2F2F2;
        width: 100%;
        height: 100vh;
        margin: 0;
        padding: 4px;
    }

    header {
        width: 100%;
        z-index: 200;
        display: flex;
        justify-content: space-between;
        padding: 0.45rem
            /*Superior*/
            2rem
            /*Derecha*/
            0.45rem
            /*Abajo*/
            1.27rem
            /*Izquierda*/
        ;
        border-bottom: 1px solid var(--border-color);
        position: fixed;
        background-color: var(--background-color);
        top: 0;
        left: 0;


    }

    main {
        margin-left: 2.6rem;
        margin-right: -1.2rem;
        padding: 1rem;
        padding-top: 70px;
        transition: margin-left 0.5s ease, margin-right 0.3s ease;
    }

    footer {
        margin-left: 2.9rem;
        margin-right: -1.2rem;
        padding: 1rem;
        padding-top: 70px;
        transition: margin-left 0.5s ease, margin-right 0.3s ease;
    }

    /*Nav*/
    .nav-img {
        width: 11%;
    }

    nav a {
        margin-top: 2px;
        margin-right: 3px;
        text-decoration: none;
    }

    nav a:hover {}

    section {
        padding: 0
            /*Superior*/
            2
            /*Derecha*/
            0
            /*Abajo*/
            10rem
            /*Izquierda*/
        ;

    }

    /*Variable global*/
    :root {
        --background-color: white;
        --text-title-color: #053D4E;
        --text-color: #32363B;
        --icon-color: #32363B;
        --icon-menu-color: #707780;
        --menu-color: #707780;

        --text-selected-color: #355CC0;
        --background-selected: #EBF0FF;
        --background-hover: #F7F9FA;

        --border-color: #E6E9ED;

    }

    .left {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
    }

    .brand {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.6rem;
    }

    .brand .logo {
        width: 3.3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1.4rem;
    }

    .brand .name {
        font-size: 1.5rem;
        font-weight: 900;
        color: var(--text-title-color)
    }

    .name1 {
        font-size: 1.5rem;
        font-weight: 900;
        color: var(--text-title-color);
        display: flex;
        align-items: center;
        text-align: center;
        justify-content: center;
        gap: 0.6rem;
    }

    .menu-container {
        height: 100%;
        display: flex;
        align-items: center;
        cursor: pointer;
    }

    .menu {
        width: 1.5rem;
        height: 37%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    /*Menú left*/

    .menu div {
        width: 100%;
        height: 0.15rem;
        background-color: var(--menu-color);
        transition: all 0.2s ease;
    }

    .menu.menu-toggle div:first-child {
        width: 40%;
        transform: rotate(-35deg) translate(-30%, 175%)
    }

    .menu.menu-toggle div:last-child {
        width: 40%;
        transform: rotate(35deg) translate(-30%, -160%)
    }

    /*Form del formulario*/

    .form-select,
    .form-control {
        max-width: 250px;
        border-radius: 0.375rem;
        /* bordes suaves */
        box-shadow: none !important;
        /* sin sombras azules al enfocar */
    }

    .form-label {
        margin-right: 5px;
        font-size: 0.9rem;
    }

    button.btn {
        min-width: 100px;
    }

    .titulo {
        font-family: 'Arial', sans-serif;
        font-size: 36px;
        color: #2c3e50;
        text-align: center;
        margin-top: 40px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    form {
        font-family: 'Arial', sans-serif;
        text-align: center;
        margin: 20px auto;
        padding: 20px;
        border: 1px solid #ccc;
    }

    /*SideBar*/

    .sidebar {
        margin-top: 4rem;
        width: 4rem;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 100;
        padding: 1.1rem 0;
        border-right: solid var(--border-color);
        overflow-y: auto;
        background-color: var(--background-color);
        transition: 0.5s;
    }

    .sidebar.menu-toggle~main {
        margin-left: 14rem;
        margin-right: -1rem;
    }

    .sidebar.menu-toggle {
        width: 15rem;
        margin-right: 16rem;
    }

    .sidebar a {
        display: flex;
        align-items: center;
        gap: 1.3rem;
        padding: 0.9rem 0.7rem;
        text-decoration: none;
        margin: 0 0.5rem;
        border-radius: 0.5rem;
        white-space: nowrap;
        overflow: hidden;
        color: var(--text-color);
    }

    .sidebar a:hover {
        background-color: var(--background-hover);
    }

    .sidebar a.selected {
        color: var(--text-selected-color);
        background-color: var(--background-selected);
    }

    .sidebar img {
        width: 1.6rem;
        flex-shrink: 0;
    }

    .sidebar nav ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
    }

    #tabla td:first-child {
        white-space: nowrap;
    }

    /*Responsive*/

    @media (max-width:500px) {
        .sidebar {
            width: 0;
        }

        .menu.menu-toggle div:first-child {
            width: 40%;
            transform: rotate(-35deg) translate(-30%, 175%)
        }

        .menu.menu-toggle div:last-child {
            width: 40%;
            transform: rotate(35deg) translate(-30%, -160%)
        }

        main {
            margin-left: 0;
        }

        main.menu-toggle {
            margin-left: 0;
        }
    }
</style>

</html>